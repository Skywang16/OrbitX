# OrbitX 代码规范

本目录包含OrbitX项目的代码规范和最佳实践指南。

## 规范文档

### 前端规范

#### [架构设计规范](./frontend/architecture-design.md)

前后端协同设计、数据流向、顺序处理等架构层面的设计原则。

**核心要点**：

- 前后端一致性设计
- 顺序处理优于查找
- 统一的数据源
- 简单明确的实现
- 不要重复造轮子

#### [工具函数清单](./frontend/utility-functions.md)

项目中已有的工具函数、Composables和第三方库列表。开发前必看！

**包含内容**：

- 时间处理工具
- 本地存储工具
- Vue Composables
- 核心工具函数
- 已安装的第三方库

#### [API 错误处理规范](./frontend/api-error-handling.md)

API 调用的错误处理规范。**核心原则：后端统一处理，前端不要重复处理。**

**核心要点**：

- 不要使用 try-catch 包裹 API 调用
- 错误已在请求拦截器中统一处理
- 后端提供准确的国际化错误信息
- 避免重复的错误提示
- 特殊场景的处理方式

#### [函数定义规范](./frontend/function-style.md)

函数定义的代码风格规范。**核心原则：统一使用箭头函数。**

**核心要点**：

- 所有函数定义使用箭头函数语法
- 类方法使用箭头函数属性
- 对象方法使用箭头函数
- 保持代码风格一致性
- 自动绑定 this 上下文

### 后端规范

（待补充）

## 规范原则

### 1. 简单优于复杂

### 2. 明确优于隐晦

变量命名、函数职责、数据流向都应该清晰明确。

### 3. 统一优于特殊

同样的问题用同样的方案解决，避免特殊情况。

### 4. 信任优于防御

前后端约定好的事情就相信它，不要过度防御。

### 5. 顺序优于查找

利用数据的顺序性，避免不必要的查找操作。

## 使用指南

### 新功能开发

1. 阅读对应的架构设计规范（前端/后端）
2. 使用文档中的"设计检查清单"
3. 参考"最佳实践案例"

### 代码审查

1. 对照"反模式总结"检查
2. 使用"设计检查清单"
3. 确保符合规范原则

### 重构现有代码

1. 识别"需要重构的代码"信号
2. 遵循"重构步骤"
3. 验证重构效果

## 贡献规范

欢迎补充和完善规范文档：

1. 规范应该来自实践经验
2. 包含清晰的示例（好的和坏的）
3. 说明背后的原因和思考
4. 保持文档简洁实用

## 规范更新

规范不是一成不变的，会根据项目实践不断更新：

- 发现新的反模式 → 补充到文档
- 总结新的最佳实践 → 添加案例
- 规范不适用 → 讨论并修订

保持规范的活力和实用性。
